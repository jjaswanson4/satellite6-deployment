---
common_install_repos:
  - rhel-7-server-rpms
  - rhel-server-rhscl-7-rpms
  - rhel-7-server-satellite-maintenance-6-rpms
  - rhel-7-server-ansible-2.8-rpms
satellite_repos:
  - rhel-7-server-satellite-6.6-rpms
capsule_repos:
  - rhel-7-server-satellite-capsule-6.6-rpms
install_repos: []
satellite_conflicting_rpms: gofer,python-pulp-agent-lib,python-gofer-proton,pulp-rpm-handlers

satellite:
  foreman_settings:
    - name: default_download_policy
      value: immediate
    - name: default_proxy_download_policy
      value: immediate
    - name: unregister_delete_host
      value: true
  organizations:
    - name: general
      initial_organization: true
      state: present
      manifest: /tmp/manifest_satellite-building-testmanifest_20200320T193207Z.zip
      locations:
        - name: msp-lab
          initial_location: true
        - name: msp-lab-2
#     Maybe tweak for more clear handling of multiple lifecycle environment paths?
      lifecycle_environments:
        - name: test
          description: wild west
          prior: Library
        - name: stage
          description: dont test in prod
          prior: test
        - name: prod
          description: big leagues
          prior: stage
      content_views:
#       To create "custom" products, repos, and content credentials, use the following instead of label/basearch/releasever
        - name: cv-epel-rhel7
          repos:
            - repo: "Extra Packages for Enterprise Linux 7 Repository"
              repo_url: "http://download.fedoraproject.org/pub/epel/7/x86_64"
              product: "Extra Packages for Enterprise Linux 7"
              content_credential: "https://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7"
              content_credential_name: "cc-epel7"
#        - name: cv-ansible-rhel7
#          description: ansible on RHEL7
#          repos:
#            - label: rhel-7-server-ansible-2.8-rpms
#              basearch: x86_64
#            - label: rhel-7-server-ansible-2-rpms
#              basearch: x86_64
        - name: cv-server-rhel7
          repos:
            - repo: "Red Hat Enterprise Linux 7 Server (RPMs)"
              product: "Red Hat Enterprise Linux Server"
              releasever: "7Server"
              basearch: "x86_64"
            - repo: "Red Hat Satellite Tools 6.6 (for RHEL 7 Server) (RPMs)"
              product: "Red Hat Enterprise Linux Server"
              basearch: "x86_64"
#
#
#            - label: rhel-7-server-rpms
#              releasever: 7Server
#              basearch: x86_64
#            - label: rhel-7-server-rpms
#              releasever: '7.7'
#              basearch: x86_64
#            - label: rhel-7-server-satellite-tools-6.6-rpms
#              basearch: x86_64
      composite_content_views:
        composite-rhel7:
          content_views:
            - cv-ansible-rhel7
            - cv-server-rhel7
        composite-rhel8:
            - cv-server-rhel8
            - cv-ansible-rhel8
      activation_keys:
        ak_rhel7:
          subscriptions:
            - Red Hat Enterprise Linux, Premium (One Year, Enterprise Program)
    - name: josh
      state: present
      manifest: /tmp/manifest_satellite-building-testmanifest2_20200320T204013Z.zip
      locations:
        - name: josh1
        - name: josh2
      lifecycle_environments:
        - name: dev
          description: dev land
          prior: Library
        - name: QA
          description: before prod
          prior: dev
        - name: prod
          description: big leagues
          prior: QA
      content_views:
        - name: cv-server-rhel7
          repos:
            - repo: "Red Hat Enterprise Linux 7 Server (RPMs)"
              product: "Red Hat Enterprise Linux Server"
              releasever: "7Server"
              basearch: "x86_64"
            - repo: "Red Hat Satellite Tools 6.6 (for RHEL 7 Server) (RPMs)"
              product: "Red Hat Enterprise Linux Server"
              basearch: "x86_64"
#        - name: cv-server-rhel7
#          repos:
#            - label: rhel-7-server-rpms
#              releasever: 7Server
#              basearch: x86_64
#            - label: rhel-7-server-rpms
#              releasever: 7.7
#              basearch: x86_64
#            - label: rhel-7-server-satellite-tools-6.6-rpms
#              basearch: x86_64
      composite_content_views:
        composite-rhel7:
          content_views:
            - cv-ansible-rhel7
            - cv-server-rhel7
        composite-rhel8:
            - cv-server-rhel8
            - cv-ansible-rhel8
      activation_keys:
        ak_rhel7:
          subscriptions:
            - Red Hat Enterprise Linux, Premium (One Year, Enterprise Program)
